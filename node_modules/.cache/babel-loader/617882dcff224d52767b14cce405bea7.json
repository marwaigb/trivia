{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nexport const fetchTriviaCollectionAsync = createAsyncThunk('trivia/fetchCollection', async () => {\n  const response = await fetch('/questions.json');\n  return await response.json();\n});\nexport const triviaSlice = createSlice({\n  name: 'trivia',\n  initialState: {\n    items: new Array(),\n    userAnwers: new Array(5),\n    index: 0\n  },\n  reducers: {\n    resetUserAnswer: (state, action) => {\n      for (let i = 0; i < state.userAnwers.length; i++) {\n        console.log('hi');\n        console.log(action.payload);\n        state.userAnwers[i] = action.payload;\n      }\n    },\n    addUserAnswer: (state, action) => {\n      state.userAnwers[state.index] = action.payload;\n    },\n    changeIndex: (state, action) => {\n      state.index = action.payload;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchTriviaCollectionAsync.fulfilled, (state, action) => {\n      state.items = action.payload;\n    });\n  }\n});\nexport const {\n  addUserAnswer,\n  changeIndex,\n  resetUserAnswer\n} = triviaSlice.actions;\nexport default triviaSlice.reducer;","map":{"version":3,"sources":["/Users/marwa/frontend/trivia/trivia-app/src/store/triviaSlice.ts"],"names":["createAsyncThunk","createSlice","fetchTriviaCollectionAsync","response","fetch","json","triviaSlice","name","initialState","items","Array","userAnwers","index","reducers","resetUserAnswer","state","action","i","length","console","log","payload","addUserAnswer","changeIndex","extraReducers","builder","addCase","fulfilled","actions","reducer"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,WAA3B,QAA6D,kBAA7D;AAKA,OAAO,MAAMC,0BAA0B,GAAGF,gBAAgB,CACzD,wBADyD,EAEzD,YAAY;AACX,QAAMG,QAAQ,GAAG,MAAMC,KAAK,CAAC,iBAAD,CAA5B;AACA,SAAO,MAAMD,QAAQ,CAACE,IAAT,EAAb;AACA,CALwD,CAAnD;AASP,OAAO,MAAMC,WAAW,GAAGL,WAAW,CAAC;AACnCM,EAAAA,IAAI,EAAE,QAD6B;AAEnCC,EAAAA,YAAY,EAAE;AACVC,IAAAA,KAAK,EAAE,IAAIC,KAAJ,EADG;AAGVC,IAAAA,UAAU,EAAE,IAAID,KAAJ,CAAwB,CAAxB,CAHF;AAIVE,IAAAA,KAAK,EAAE;AAJG,GAFqB;AAQnCC,EAAAA,QAAQ,EAAE;AACNC,IAAAA,eAAe,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAgD;AAC7D,WAAI,IAAIC,CAAC,GAAC,CAAV,EAAaA,CAAC,GAAEF,KAAK,CAACJ,UAAN,CAAiBO,MAAjC,EAAyCD,CAAC,EAA1C,EAA6C;AACzCE,QAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAM,CAACK,OAAnB;AACAN,QAAAA,KAAK,CAACJ,UAAN,CAAiBM,CAAjB,IAAsBD,MAAM,CAACK,OAA7B;AACH;AACJ,KAPK;AASNC,IAAAA,aAAa,EAAE,CAACP,KAAD,EAAQC,MAAR,KAAgD;AAC3DD,MAAAA,KAAK,CAACJ,UAAN,CAAiBI,KAAK,CAACH,KAAvB,IAAgCI,MAAM,CAACK,OAAvC;AACH,KAXK;AAYNE,IAAAA,WAAW,EAAE,CAACR,KAAD,EAAQC,MAAR,KAA0C;AACnDD,MAAAA,KAAK,CAACH,KAAN,GAAcI,MAAM,CAACK,OAArB;AACH;AAdK,GARyB;AAwBnCG,EAAAA,aAAa,EAAGC,OAAD,IAAa;AACxBA,IAAAA,OAAO,CACFC,OADL,CAEQxB,0BAA0B,CAACyB,SAFnC,EAGQ,CAACZ,KAAD,EAAQC,MAAR,KAA+C;AAC3CD,MAAAA,KAAK,CAACN,KAAN,GAAcO,MAAM,CAACK,OAArB;AACH,KALT;AAOH;AAhCkC,CAAD,CAA/B;AAkCP,OAAQ,MAAM;AAACC,EAAAA,aAAD;AAAgBC,EAAAA,WAAhB;AAA6BT,EAAAA;AAA7B,IAAgDR,WAAW,CAACsB,OAAlE;AACR,eAAetB,WAAW,CAACuB,OAA3B","sourcesContent":["import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { IQuestion } from \"../models/IQuestion\";\nimport { AnswerObject } from \"../models/AnswerObject\";\n\n\nexport const fetchTriviaCollectionAsync = createAsyncThunk(\n\t'trivia/fetchCollection',\n\tasync () => {\n\t\tconst response = await fetch('/questions.json');\n\t\treturn await response.json();\n\t}\n);\n\n\nexport const triviaSlice = createSlice({\n    name: 'trivia',\n    initialState: {\n        items: new Array(),\n       \n        userAnwers: new Array<AnswerObject>(5),\n        index: 0\n    },\n    reducers: {\n        resetUserAnswer: (state ,action: PayloadAction<AnswerObject>) => {\n            for(let i=0; i< state.userAnwers.length; i++){\n                console.log('hi');\n                console.log(action.payload);\n                state.userAnwers[i] = action.payload;\n            }\n        },\n\n        addUserAnswer: (state, action: PayloadAction<AnswerObject>) => {\n            state.userAnwers[state.index] = action.payload;\n        },\n        changeIndex: (state, action: PayloadAction<number>) => {\n            state.index = action.payload;\n        },\n    },\n    extraReducers: (builder) => {\n        builder\n            .addCase(\n                fetchTriviaCollectionAsync.fulfilled,\n                (state, action: PayloadAction<IQuestion[]>) => {\n                    state.items = action.payload;\n                }\n            );\n    },\n});\nexport  const {addUserAnswer, changeIndex, resetUserAnswer} = triviaSlice.actions;\nexport default triviaSlice.reducer;"]},"metadata":{},"sourceType":"module"}